[build-system]
requires = [
    "setuptools>=42",
    "wheel"
]
build-backend = "setuptools.build_meta"

[tool.pytest.ini_options]
filterwarnings = [
    'error',
    'ignore::DeprecationWarning:bokeh.core.property.primitive',
    'ignore:Creating AiiDA configuration:UserWarning:aiida',
    'ignore:crystal system:UserWarning:ase.io.cif',
    'ignore::DeprecationWarning:ase.atoms',
    # TODO: This comes from a transitive dependency of optimade_client
    # Remove this when this issue is addressed:
    # https://github.com/CasperWA/ipywidgets-extended/issues/85
    'ignore:metadata.*trait.*<traitlets.traitlets.Unicode object:DeprecationWarning:traitlets',
    # For some reason we get this error, perhaps because we do
    # not unload the AiiDA profile? Let's ignore this for now.
    # E pytest.PytestUnraisableExceptionWarning: Exception ignored in: <function Popen.__del__>
    # E Traceback (most recent call last):
    # E   File "/opt/conda/lib/python3.9/subprocess.py", line 1052, in __del__
    # E     _warn("subprocess %s is still running" % self.pid,
    # E ResourceWarning: subprocess 382685 is still running
    'ignore:Exception ignored in:pytest.PytestUnraisableExceptionWarning:_pytest',
    'ignore::DeprecationWarning:jupyter_client',
    'ignore::DeprecationWarning:selenium',
    'ignore::DeprecationWarning:pytest_selenium',
]
